---
layout: post
title: 服务器负载的四种工作模式
categories: 笔记
tags: 远为
---

关于服务器负载的四种工作模式的问题，我在这里介绍一下吧。

这四种工作模式分别为：全局模式、透明模式、反向代理模式和三角传输模式。

#####透明模式
一般在解释这种模式时都会说，在这种模式下，用户感受不到负载的存在，但这样说还是很抽象。简单来说，这种模式更适用于多端口访问，不需要用户在创建虚拟服务时指定特定的一个端口，取而代之的是设置一个或者多个端口范围，客户端和服务器间可以在这些端口范围内自由建立端口通讯，并且负载会对端口范围内的所有端口进行监听（你可以用telnet进行测试），适用的协议有tftp协议、radius协议等多端口通讯的协议。

在服务器端，需要将服务器的网关指到负载上，这种模式才能生效。

#####反向代理模式
反向代理这个词总是让人感觉莫名其妙，其实只要把它理解成是一个双向代理的过程就好。

反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

这是最常见的一种代理方式。

#####三角传输模式
这种模式只是用于特定的负载均衡项目中。

简单讲，客户端的访问数据通过负载到服务器，服务器响应的数据则直接发送到客户端。

客户端、负载和服务器三者构成了一个三角形，所以叫做三角传输模式。

#####全局模式
之所以把全局模式放到最后来说，是因为全局模式并不是一种固定的模式，他可能是以上三种模式的任意一种。

当你把虚拟服务设置成全局模式后，这个虚拟服务实际使用的是工作模式菜单下指定的模式。